<div class="lead-hero-wrapper">
    <div class="container">
      <div class="row">
        <div class="col-xl-5 col-lg-5 col-md-12 col-sm-12 col-12">
          <!-- hero-caption -->
          <div class="lead-hero-caption">
            <h1 class="lead-hero-title">Lead Generation Page</h1>
            <p class="text-white">A personal loan Lead Generation Templates is a short to medium term unsecured loan (no collateral) that you can use to meet current financial needs. </p>
            <p class="lead mb0 text-white">Apply For <strong class="text-white">$1000 to $7000</strong></p>
            <span>(Minimum loan amount $1000)</span>
            <div class="rating-list">
              <span><i class="fa fa-star"></i></span>
              <span><i class="fa fa-star"></i></span>
              <span><i class="fa fa-star"></i></span>
              <span><i class="fa fa-star"></i></span>
              <span><i class="fa fa-star-half"></i></span>
              <span class="text-white">4.5 / 5 (65 Reviews)</span>
            </div>
          </div>

          <!-- /.hero-caption -->
        </div>
        <div class="offset-xl-1 col-xl-6 offset-lg-1 col-lg-6 col-md-12 col-sm-12 col-12">
          <div class="lead-calculator pinside40">
              <div class="row" id="mybond_calculator">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mb10">
                  <h2 class="text-white mb20">Apply Today</h2>

                  <form class="form needs-validation" novalidate">
                    <span id="calculator_host" class="hidden">
                      <%= "#{ENV['who_am_i']}/calculator" %>
                    </span>

                    <div id="calculator_alert" class="alert alert-danger fade show hidden" role="alert">
                      <strong>Error</strong>
                      <span id="calculator_alert_content"></span>
                    </div>

                    <table>
                      <tr>
                        <td colspan="2">
                          <select class="form-control" id='calculator_rental_type'>
                            <option value="0">I have a new lease and want a Rental Bond Facility</option>
                            <option value="1" selected>I have an existing Rental Bond that I would like to sell</option>
                          </select>
                        </td>
                      </tr>

                      <!--
                      <tr>
                        <td>
                          <%= label_tag :months_left_on_lease %>
                        </td>
                        <td>
                          <select class="form-control" id='calculator_months_until_expiry'>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8" selected>8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                          </select>
                        </td>
                      </tr>
                      -->

                      <tr>
                        <td>
                          <%= label_tag :your_bond_amount %>
                        </td>
                        <td>
                          <%= number_field_tag :bond_amount, 2400, placeholder: 2400, id: 'calculator_bond_amount', class: 'form-control', min: 0, step: 1, required: true %>
                          <div class="invalid-feedback">
                              Please input a valid Rental Bond Amount.
                          </div>
                        </td>
                      </tr>

                      <tr>
                        <td>
                          <%= label_tag :weeky_rent %>
                        </td>
                        <td>
                          <%= number_field_tag :property_weekly_rent, 600, placeholder: 600, id: 'calculator_property_weekly_rent', class: 'form-control', min: 0, step: 1, required: true %>
                          <div class="invalid-feedback">
                              Please input a valid weekly rent.
                          </div>
                        </td>
                      </tr>

                      <tr>
                        <td>
                          <%= label_tag :your_postcode %>
                        </td>
                        <td>
                          <%= number_field_tag :property_postcode, 2000, placeholder: 2000, id: 'calculator_property_postcode', class: 'form-control', min: 2000, max: 2999, step: 1, required: true %>
                          <div class="invalid-feedback">
                              Please input a valid NSW Postcode.
                          </div>
                        </td>
                      </tr>

                      <tr>
                        <td>
                          <%= label_tag :start_of_lease %>
                        </td>
                        <td>
                          <%= text_field_tag :start_of_lease, "", as: :string, type: :text, class: "form-control calculator_start_date_picker" %>
                        </td>
                      </tr>

                      <tr>
                        <td>
                          <%= label_tag :end_of_lease %>
                        </td>
                        <td>
                          <%= text_field_tag :end_of_lease, "", as: :string, type: :text, class: "form-control calculator_end_date_picker" %>
                        </td>
                      </tr>

                      <tr class="hidden" id="calculator_rolling_lease_row">
                        <td>
                          <label>
                            My lease has expired and I am
                            <br>
                            rolling my monthly lease
                          </label>
                        </td>
                        <td>
                          <label class="switch">
                            <input type="checkbox" value="1" id="calculator_rolling_lease">
                            <span class="slider round"></span>
                          </label>
                        </td>
                      </tr>

                    </table>

                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 text-right">
                      <!-- <button class="btn btn-secondary btn-sm">APPLY NOW</button> -->
                      <br>
                      <button id="calculator_button" type="button" class="btn btn-info float-right">Calculate</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
  </div>


  <div id="calculator_results_new_bond" class="hidden">
    <hr>
    <div class="row form-group">
      <div class="col-lg-6">
        <%= label_tag :establishment_fee %>
      </div>
      <div class="col-lg-6">
        <span id="calculator_establishment_fee"></span>
      </div>
    </div>

    <div class="row form-group">
      <div class="col-lg-6">
        <%= label_tag :weekly_rent %>
      </div>
      <div class="col-lg-6">
        <span id="calculator_weekly_rent"></span>
      </div>
    </div>

    <div class="row form-group">
      <div class="col-lg-6">
        <%= label_tag :total_fee %>
      </div>
      <div class="col-lg-6">
        <span id="calculator_total_fee"></span>
      </div>
    </div>

    <div class="row form-group">
      <div class="col-md-12 col-lg-7">
        <%= form_with(url: how_to_apply_path, local: true) do |f| %>
          <input type="hidden" name="contract[status]"            id="contact_status"            value="0">
          <input type="hidden" name="contract[contract_type]"     id="contact_contract_type"     value="">
          <input type="hidden" name="contract[rental_bond]"       id="contact_rental_bond"       value="">
          <input type="hidden" name="contract[property_postcode]" id="contact_property_postcode" value="">
          <input type="hidden" name="contract[start_of_lease]"    id="contact_start_of_lease"    value="">
          <input type="hidden" name="contract[end_of_lease]"      id="contact_end_of_lease"      value="">
          <input type="hidden" name="contract[rolling_lease]"     id="contact_rolling_lease"     value="">
          <input type="hidden" name="contract[property_weekly_rent]" id="contact_property_weekly_rent" value="">

          <button id="calculator_apply_button" type="submit" class="btn btn-success float-right">Apply Now!</button>
        <% end %>
      </div>
    </div>

    <div class="row form-group">
      <div class="col-lg-12">
        <hr>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-auto">


        <h4>Bond Buy Back Schedule</h4>

        <p>You can buy back your bond at any time</p>

        <table class="table table-striped table-responsive">
          <thead>
            <tr>
              <th>Month</th>
              <th>Buy Back Amount</th>
              <th>Cost</th>
            </tr>
          </thead>
          <tbody id="calculator_new_bond_buy_back_schedule">
          </tbody>
        </table>

      </div>
    </div>

  </div>

  <div id="calculator_results_existing_bond" class="hidden">
    <hr>
  </div>


<div id="calculator_results" class="hidden">

  <hr>

  <div id="calculator_cash_back_row" class="row form-group">
    <div class="col-lg-6">
      <%= label_tag :cash_back %>
    </div>
    <div class="col-lg-6">
      <span id="calculator_cash_back"></span>
    </div>
  </div>


  <div id="calculator_deposit_row" class="row form-group">
    <div class="col-lg-6">
      <%= label_tag :deposit %>
    </div>
    <div class="col-lg-6">
      <span id="calculator_deposit"></span>
    </div>
  </div>

  <div id="calculator_total_row" class="row form-group">
    <div class="col-lg-6">
      <%= label_tag :total_payment %>
    </div>
    <div class="col-lg-6">
      <span id="calculator_total"></span>
    </div>
  </div>


  <hr>
  <h4>Bond Bridging</h4>

  <div class="row form-group">
    <div class="col-lg-6">
      <p>
        You can buy back your bond at any time within a 2 month period.
      </p>
    </div>
    <div class="col-lg-6">
      <span id="calculator_buy_back_bond_amount"></span>
    </div>
  </div>

  <h4>The Factor Factor</h4>

  <div class="row form-group">
    <div class="col-lg-12">
      <p>
        If you decide not buy back your bond, the bond will be converted into a Factor.
      </p>

      <p>
        In practice, this means
      </p>

      <ul class="text-muted">
        <li>You assign the bond to My Bond</li>
        <li>When the lease is over you must repay the Factor (the full amount of the bond)
        <li>You are able to renew the factor for an annual fee of <strong><span id="calculator_annual_fee"></span></strong>
        <li>Or you can renew the factor on a monthly basis for <strong><span id="calculator_monthly_fee"></span></strong> per month</li>
        <li>You can choose to buy back the bond at any time</li>
      </ul>
    </div>
  </div>

  <div class="row form-group">
    <div class="col-lg-12">
      <p>
        Bond Buy Back Schedule
      </p>
      <div id="calculator_bond_buy_back_schedule">
      </div>
    </div>
  </div>
</div>
